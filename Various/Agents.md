# Agents
# [Agents](https://github.com/openark/orchestrator/blob/master/docs/agents.md)
你可以选择在你的MySQL主机上安装[orchestrator-agent](https://github.com/openark/orchestrator-agent). `orchestrator-agent`是一个服务, 它在你的`orchestrator`服务器上注册, 并通过Web API接受`orchestrator`的请求.

支持的请求与一般的、操作系统和LVM操作有关, 如:

> Supported requests relate to general, OS and LVM operations, such as:

* 在主机上关闭/启动MySQL.
> Stopping/starting MySQL service on host
* 获取MySQL操作系统信息, 如数据目录、端口、磁盘空间使用情况等.
> Getting MySQL OS info such as data directory, port, disk space usage
* 执行各种LVM操作, 如寻找LVM快照, 挂载/卸载快照.
> Performing various LVM operations such as finding LVM snapshots, mounting/unmounting a snapshot
* 在主机之间传输数据(如通过netcat).
> Transferring data between hosts (e.g. via `netcat`)

`orchestrator-agent`旨在持续努力解决主机的特定操作. 它最初是为了克服克隆和恢复问题而开发的, 后来又扩展到其他领域.

由`orchestrator-agent`暴露给`orchestrator`的信息和API允许`orchestrator`通过从最新的可用快照中获取数据来coordinate and operate seeding of new or corrupted machines. 此外, 它允许`orchestrator`自动为给定的MySQL机器建议数据来源, 方法是查找那些实际上有最近快照可用的主机, 最好是在同一数据中心.

> The information and API exposed by `orchestrator-agent` to `orchestrator` allow `orchestrator` to coordinate and operate seeding of new or corrupted machines by getting data from freshly available snapshots. Moreover, it allows `orchestrator` to automatically suggest the source of data for a given MySQL machine, by looking up such hosts that actually have a recent snapshot available, preferably in the same datacenter.

为了安全起见, 除了最简单的请求, `orchestrator-agent`需要一个token来执行操作. 这个token由`orchestrator-agent`随机生成, 并与`orchestrator`协商. `orchestrator`不会暴露代理的令牌(现在需要做一些工作来掩盖错误信息中的令牌)

> For security measures, an agent requires a token to operate all but the simplest requests. This token is randomly generated by the agent and negotiated with `orchestrator`. `orchestrator` does not expose the agent's token (right now some work needs to be done on obscuring the token on error messages).